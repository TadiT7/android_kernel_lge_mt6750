/*
 * Copyright (C) 2015 MediaTek Inc.
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 */

#ifndef _CUST_BATTERY_METER_TABLE_H
#define _CUST_BATTERY_METER_TABLE_H


/* ============================================================
// define
// ============================================================*/
#define BAT_NTC_10 0
#define BAT_NTC_47 0
#define BAT_NTC_68 1

#if (BAT_NTC_10 == 1)
#if defined(CONFIG_MTK_PMIC_CHIP_MT6353)
	#define RBAT_PULL_UP_R             16900
#else
	#define RBAT_PULL_UP_R             24000
#endif
#endif

#if (BAT_NTC_47 == 1)
#define RBAT_PULL_UP_R             61900
#endif

#if (BAT_NTC_68 == 1)
#define RBAT_PULL_UP_R             62000
#endif

#define RBAT_PULL_UP_VOLT          1800



/* ============================================================
// ENUM
// ============================================================*/

/* ============================================================
// structure
// ============================================================*/

/* ============================================================
// typedef
// ============================================================*/
typedef struct _BATTERY_PROFILE_STRUCT {
	signed int percentage;
	signed int voltage;
	} BATTERY_PROFILE_STRUCT, *BATTERY_PROFILE_STRUCT_P;

typedef struct _R_PROFILE_STRUCT {
	signed int resistance; /* Ohm*/
	signed int voltage;
} R_PROFILE_STRUCT, *R_PROFILE_STRUCT_P;

typedef enum {
	T1_0C,
	T2_25C,
	T3_50C
} PROFILE_TEMPERATURE;

/* ============================================================
// External Variables
// ============================================================*/

/* ============================================================
// External function
// ============================================================*/

/* ============================================================
// <DOD, Battery_Voltage> Table
// ============================================================*/
#if (BAT_NTC_10 == 1)
BATT_TEMPERATURE Batt_Temperature_Table[] = {
	{-20, 68237},
	{-15, 53650},
	{-10, 42506},
	{ -5, 33892},
	{  0, 27219},
	{  5, 22021},
	{ 10, 17926},
	{ 15, 14674},
	{ 20, 12081},
	{ 25, 10000},
	{ 30, 8315},
	{ 35, 6948},
	{ 40, 5834},
	{ 45, 4917},
	{ 50, 4161},
	{ 55, 3535},
	{ 60, 3014}
};
#endif

#if (BAT_NTC_47 == 1)
BATT_TEMPERATURE Batt_Temperature_Table[] = {
	{-20, 483954},
	{-15, 360850},
	{-10, 271697},
	{ -5, 206463},
	{  0, 158214},
	{  5, 122259},
	{ 10, 95227},
	{ 15, 74730},
	{ 20, 59065},
	{ 25, 47000},
	{ 30, 37643},
	{ 35, 30334},
	{ 40, 24591},
	{ 45, 20048},
	{ 50, 16433},
	{ 55, 13539},
	{ 60, 11210}
};
#endif

#if (BAT_NTC_68 == 1)
BATT_TEMPERATURE Batt_Temperature_Table[] = {
	{-20,738931},
	{-15,547471},
	{-10,409600},
	{ -5,309299},
	{  0,235622},
	{  5,181001},
	{ 10,140153},
	{ 15,109349},
	{ 20,85934},
	{ 25,68000},
	{ 30,54165},
	{ 35,43418},
	{ 40,35014},
	{ 45,28400},
	{ 50,23164},
	{ 55,18994},
	{ 60,15655},
	{ 65,12967},
	{ 70,10791},
	{ 75,9021},
	{ 80,7574}
};
#endif

/* T0 -10C */
BATTERY_PROFILE_STRUCT battery_profile_t0[] = {
	{0 , 4357},
	{2 , 4329},
	{4 , 4304},
	{6 , 4280},
	{8 , 4258},
	{10, 4236},
	{12, 4214},
	{14, 4192},
	{16, 4170},
	{18, 4148},
	{20, 4124},
	{22, 4099},
	{24, 4075},
	{26, 4052},
	{28, 4032},
	{30, 4012},
	{32, 3992},
	{34, 3972},
	{36, 3954},
	{38, 3936},
	{40, 3916},
	{42, 3898},
	{44, 3879},
	{46, 3864},
	{48, 3849},
	{50, 3837},
	{52, 3827},
	{54, 3819},
	{56, 3811},
	{58, 3804},
	{60, 3799},
	{62, 3795},
	{64, 3790},
	{66, 3788},
	{68, 3783},
	{70, 3779},
	{72, 3773},
	{74, 3767},
	{76, 3759},
	{78, 3750},
	{80, 3740},
	{82, 3729},
	{84, 3718},
	{86, 3707},
	{88, 3697},
	{90, 3687},
	{92, 3675},
	{94, 3658},
	{96, 3631},
	{97, 3614},
	{97, 3603},
	{98, 3592},
	{98, 3582},
	{99, 3572},
	{99, 3561},
	{99, 3549},
	{99, 3539},
	{100, 3310},
	{100, 3291},
	{100, 3274},
	{100, 3259},
	{100, 3245},
	{100, 3234},
	{100, 3221},
	{100, 3212},
	{100, 3259},
	{100, 3245},
	{100, 3234},
	{100, 3221}
};

/* T1 0C */
BATTERY_PROFILE_STRUCT battery_profile_t1[] = {
	{0, 4384},
	{2, 4358},
	{4, 4332},
	{5, 4300},
	{7, 4269},
	{9, 4240},
	{11, 4213},
	{13, 4187},
	{15, 4164},
	{16, 4141},
	{18, 4118},
	{20, 4098},
	{22, 4077},
	{24, 4058},
	{26, 4038},
	{27, 4019},
	{29, 4000},
	{31, 3984},
	{33, 3968},
	{35, 3952},
	{37, 3934},
	{38, 3916},
	{40, 3898},
	{42, 3881},
	{44, 3867},
	{46, 3855},
	{48, 3845},
	{49, 3836},
	{51, 3828},
	{53, 3820},
	{55, 3813},
	{57, 3807},
	{59, 3800},
	{60, 3794},
	{62, 3790},
	{64, 3786},
	{66, 3782},
	{68, 3779},
	{70, 3775},
	{71, 3771},
	{73, 3766},
	{75, 3760},
	{77, 3753},
	{79, 3745},
	{80, 3735},
	{82, 3723},
	{84, 3711},
	{86, 3700},
	{88, 3692},
	{90, 3685},
	{91, 3676},
	{93, 3666},
	{95, 3642},
	{97, 3586},
	{98, 3540},
	{98, 3512},
	{99, 3488},
	{99, 3468},
	{99, 3451},
	{99, 3435},
	{99, 3421},
	{99, 3408},
	{100, 3396},
	{100, 3386},
	{100, 3375},
	{100, 3366},
	{100, 3357},
	{100, 3348},
	{100, 3300}
};

/* T2 25C*/
BATTERY_PROFILE_STRUCT battery_profile_t2[] = {
	{0, 4392},
	{2, 4372},
	{4, 4355},
	{5, 4336},
	{7, 4317},
	{9, 4297},
	{11, 4278},
	{12, 4258},
	{14, 4239},
	{16, 4218},
	{18, 4198},
	{19, 4178},
	{21, 4158},
	{23, 4139},
	{25, 4120},
	{26, 4101},
	{28, 4084},
	{30, 4067},
	{32, 4049},
	{33, 4032},
	{35, 4015},
	{37, 3999},
	{39, 3982},
	{40, 3965},
	{42, 3944},
	{44, 3923},
	{46, 3905},
	{47, 3890},
	{49, 3878},
	{51, 3868},
	{53, 3857},
	{54, 3849},
	{56, 3839},
	{58, 3831},
	{60, 3824},
	{62, 3817},
	{63, 3810},
	{65, 3804},
	{67, 3798},
	{69, 3792},
	{70, 3787},
	{72, 3781},
	{74, 3775},
	{76, 3771},
	{77, 3762},
	{79, 3753},
	{81, 3745},
	{83, 3733},
	{84, 3719},
	{86, 3703},
	{88, 3692},
	{90, 3689},
	{91, 3688},
	{93, 3686},
	{95, 3680},
	{97, 3622},
	{98, 3509},
	{100, 3279},
	{100, 3058},
	{100, 3005},
	{100, 2983},
	{100, 2968},
	{100, 2956},
	{100, 2950},
	{100, 2941},
	{100, 2941},
	{100, 2938},
	{100, 2933},
	{100, 2933}
};

/* T3 50C*/
BATTERY_PROFILE_STRUCT battery_profile_t3[] = {
	{0, 4395},
	{2, 4373},
	{3, 4355},
	{5, 4337},
	{7, 4318},
	{8, 4299},
	{10, 4279},
	{12, 4260},
	{13, 4239},
	{15, 4220},
	{17, 4200},
	{18, 4180},
	{20, 4161},
	{22, 4142},
	{23, 4123},
	{25, 4105},
	{27, 4087},
	{28, 4070},
	{30, 4052},
	{32, 4036},
	{33, 4020},
	{35, 4004},
	{36, 3990},
	{38, 3976},
	{40, 3963},
	{41, 3949},
	{43, 3936},
	{45, 3920},
	{46, 3896},
	{48, 3877},
	{50, 3865},
	{51, 3854},
	{53, 3845},
	{55, 3836},
	{56, 3828},
	{58, 3821},
	{60, 3814},
	{61, 3807},
	{63, 3802},
	{65, 3796},
	{66, 3790},
	{68, 3786},
	{70, 3782},
	{71, 3775},
	{73, 3765},
	{75, 3755},
	{76, 3749},
	{78, 3742},
	{80, 3734},
	{81, 3728},
	{83, 3720},
	{85, 3705},
	{86, 3693},
	{88, 3676},
	{90, 3675},
	{91, 3673},
	{93, 3670},
	{95, 3667},
	{96, 3628},
	{98, 3536},
	{100, 3382},
	{100, 3108},
	{100, 3060},
	{100, 3034},
	{100, 3013},
	{100, 2998},
	{100, 2983},
	{100, 2972},
	{100, 2972}
};

/* battery profile for actual temperature. The size should be the same as T1, T2 and T3*/
BATTERY_PROFILE_STRUCT battery_profile_temperature[] = {
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0},
	{0,0}
};

/* ============================================================
// <Rbat, Battery_Voltage> Table
// ============================================================*/
/* T0 -10C*/
R_PROFILE_STRUCT r_profile_t0[] = {
	{618, 4357},
	{618, 4329},
	{640, 4304},
	{650, 4280},
	{663, 4258},
	{670, 4236},
	{678, 4214},
	{688, 4192},
	{693, 4170},
	{708, 4148},
	{725, 4124},
	{753, 4099},
	{788, 4075},
	{823, 4052},
	{860, 4032},
	{898, 4012},
	{935, 3992},
	{975, 3972},
	{1025, 3954},
	{1068, 3936},
	{1108, 3916},
	{1148, 3898},
	{1153, 3879},
	{1155, 3864},
	{1153, 3849},
	{1153, 3837},
	{1158, 3827},
	{1165, 3819},
	{1165, 3811},
	{1175, 3804},
	{1183, 3799},
	{1198, 3795},
	{1208, 3790},
	{1225, 3788},
	{1240, 3783},
	{1265, 3779},
	{1288, 3773},
	{1313, 3767},
	{1335, 3759},
	{1363, 3750},
	{1395, 3740},
	{1433, 3729},
	{1475, 3718},
	{1533, 3707},
	{1598, 3697},
	{1678, 3687},
	{1773, 3675},
	{1890, 3658},
	{2025, 3631},
	{2038, 3614},
	{2010, 3603},
	{1983, 3592},
	{1958, 3582},
	{1933, 3572},
	{1910, 3561},
	{1880, 3549},
	{1850, 3539},
	{1825, 3528},
	{1803, 3518},
	{1778, 3509},
	{1778, 3509},
	{1778, 3509},
	{1778, 3509},
	{1778, 3509},
	{1778, 3509},
	{1778, 3509},
	{1778, 3509},
	{1778, 3509},
	{1255, 3300}
};

/* T1 0C*/
R_PROFILE_STRUCT r_profile_t1[] = {
	{300, 4384},
	{300, 4358},
	{313, 4332},
	{325, 4300},
	{350, 4269},
	{375, 4240},
	{395, 4213},
	{420, 4187},
	{443, 4164},
	{465, 4141},
	{485, 4118},
	{510, 4098},
	{530, 4077},
	{553, 4058},
	{565, 4038},
	{578, 4019},
	{583, 4000},
	{593, 3984},
	{593, 3968},
	{595, 3952},
	{585, 3934},
	{583, 3916},
	{573, 3898},
	{563, 3881},
	{563, 3867},
	{563, 3855},
	{568, 3845},
	{568, 3836},
	{570, 3828},
	{578, 3820},
	{580, 3813},
	{588, 3807},
	{588, 3800},
	{595, 3794},
	{600, 3790},
	{605, 3786},
	{613, 3782},
	{620, 3779},
	{628, 3775},
	{638, 3771},
	{648, 3766},
	{660, 3760},
	{673, 3753},
	{688, 3745},
	{705, 3735},
	{723, 3723},
	{745, 3711},
	{775, 3700},
	{813, 3692},
	{880, 3685},
	{975, 3676},
	{1120, 3666},
	{1345, 3642},
	{1705, 3586},
	{1853, 3540},
	{1783, 3512},
	{1725, 3488},
	{1680, 3468},
	{1630, 3451},
	{1610, 3435},
	{1570, 3421},
	{1545, 3408},
	{1495, 3396},
	{1483, 3386},
	{1440, 3375},
	{1425, 3366},
	{1393, 3357},
	{1395, 3348},
	{1290, 3300}
};

/* T2 25C*/
R_PROFILE_STRUCT r_profile_t2[] = {
	{155, 4392},
	{155, 4372},
	{158, 4355},
	{158, 4336},
	{158, 4317},
	{155, 4297},
	{160, 4278},
	{163, 4258},
	{165, 4239},
	{168, 4218},
	{170, 4198},
	{170, 4178},
	{170, 4158},
	{175, 4139},
	{175, 4120},
	{178, 4101},
	{185, 4084},
	{190, 4067},
	{193, 4049},
	{195, 4032},
	{200, 4015},
	{205, 3999},
	{208, 3982},
	{203, 3965},
	{193, 3944},
	{178, 3923},
	{168, 3905},
	{160, 3890},
	{160, 3878},
	{160, 3868},
	{158, 3857},
	{163, 3849},
	{160, 3839},
	{160, 3831},
	{163, 3824},
	{165, 3817},
	{163, 3810},
	{168, 3804},
	{168, 3798},
	{170, 3792},
	{173, 3787},
	{170, 3781},
	{170, 3775},
	{175, 3771},
	{168, 3762},
	{165, 3753},
	{168, 3745},
	{165, 3733},
	{163, 3719},
	{163, 3703},
	{160, 3692},
	{160, 3689},
	{170, 3688},
	{180, 3686},
	{205, 3680},
	{188, 3622},
	{203, 3509},
	{255, 3279},
	{658, 3058},
	{530, 3005},
	{475, 2983},
	{428, 2968},
	{423, 2956},
	{400, 2950},
	{405, 2941},
	{363, 2941},
	{348, 2938},
	{335, 2933},
	{370, 2933}
};

/* T3 50C*/
R_PROFILE_STRUCT r_profile_t3[] = {
	{73, 4395},
	{73, 4373},
	{78, 4355},
	{78, 4337},
	{80, 4318},
	{78, 4299},
	{78, 4279},
	{80, 4260},
	{80, 4239},
	{83, 4220},
	{83, 4200},
	{83, 4180},
	{85, 4161},
	{88, 4142},
	{88, 4123},
	{88, 4105},
	{90, 4087},
	{93, 4070},
	{93, 4052},
	{95, 4036},
	{98, 4020},
	{98, 4004},
	{103, 3990},
	{108, 3976},
	{113, 3963},
	{118, 3949},
	{123, 3936},
	{128, 3920},
	{100, 3896},
	{85, 3877},
	{83, 3865},
	{83, 3854},
	{83, 3845},
	{80, 3836},
	{85, 3828},
	{88, 3821},
	{88, 3814},
	{88, 3807},
	{90, 3802},
	{93, 3796},
	{93, 3790},
	{95, 3786},
	{100, 3782},
	{98, 3775},
	{88, 3765},
	{85, 3755},
	{83, 3749},
	{85, 3742},
	{83, 3734},
	{85, 3728},
	{88, 3720},
	{83, 3705},
	{85, 3693},
	{83, 3676},
	{88, 3675},
	{88, 3673},
	{90, 3670},
	{100, 3667},
	{95, 3628},
	{108, 3536},
	{138, 3382},
	{773, 3108},
	{658, 3060},
	{585, 3034},
	{550, 3013},
	{503, 2998},
	{470, 2983},
	{453, 2972},
	{438, 2972}
};

/* r-table profile for actual temperature. The size should be the same as T1, T2 and T3*/
R_PROFILE_STRUCT r_profile_temperature[] = {
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0}
};

/* ============================================================
// function prototype
// ============================================================*/
int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUCT_P fgauge_get_profile(unsigned int temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUCT_P fgauge_get_profile_r_table(unsigned int temperature);

#endif

